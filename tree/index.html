<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Family Tree â€” Cockerh.am</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="https://balkangraph.com/js/latest/OrgChart.js"></script>
</head>
<body class="light">

  <header>
    <h1>Cockerh.am</h1>
    <p>One surname. Thousands of cousins. One collaborative home.</p>
  </header>

  <div class="nav-bar">
    <button id="hamburger" aria-label="Menu" aria-expanded="false">â˜°</button>
    <button id="theme-toggle" aria-label="Toggle dark mode">â˜€ï¸</button>
  </div>

  <nav id="main-nav" aria-label="Main navigation">
    <ul id="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/history/">History & Statistics</a></li>
      <li><a href="/tree/">Family Tree</a></li>
      <li><a href="/archive/">Archive</a></li>
      <li><a href="/dna/">DNA Project</a></li>
      <li><a href="/resources/">Resources</a></li>
      <li><a href="https://github.com/jamescockerham/Cockerh.am/issues/new/choose" class="contrib">Contribute â†’</a></li>
    </ul>
  </nav>

  <main>
    <h1>Interactive Global Cockerham Family Tree</h1>
    <p style="text-align:center;">Zoom â€¢ Pan â€¢ Click nodes â€¢ Add yourself</p>
    <div id="tree"></div>
    <p style="text-align:center;margin:40px 0;">
      <a href="https://github.com/jamescockerham/Cockerh.am/issues/new?template=add-to-tree.md" class="button">+ Add Your Branch (2 minutes)</a>
    </p>
  </main>

  <footer>
    <p>Maintained with love by James Cockerham â€¢ <a href="https://x.com/JamesCockerham">@JamesCockerham</a> â€¢ james@cockerh.am</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const hamburger = document.getElementById('hamburger');
      const nav = document.getElementById('main-nav');
      const toggle = document.getElementById('theme-toggle');
      const body = document.body;

      hamburger.addEventListener('click', () => {
        const expanded = hamburger.getAttribute('aria-expanded') === 'true';
        hamburger.setAttribute('aria-expanded', !expanded);
        nav.classList.toggle('open');
      });

      nav.querySelectorAll('a').forEach(link => link.addEventListener('click', () => {
        nav.classList.remove('open');
        hamburger.setAttribute('aria-expanded', 'false');
      });

      if (localStorage.theme === 'dark' || (!localStorage.theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        body.classList.add('dark');
        toggle.textContent = 'ğŸŒ™';
      } else {
        toggle.textContent = 'â˜€ï¸';
      }

      toggle.addEventListener('click', () => {
        body.classList.toggle('dark');
        toggle.textContent = body.classList.contains('dark') ? 'ğŸŒ™' : 'â˜€ï¸';
        localStorage.theme = body.classList.contains('dark') ? 'dark' : 'light';
      });

      // Family tree
      new OrgChart(document.getElementById("tree"), {
        nodeBinding: { field_0: "name", field_1: "born" },
        nodes: [
          { id: 1, name: "Cockerham of Lancashire", born: "1086â€“1600s" },
          { id: 2, pid: 1, name: "Captain William Cockerham", born: "c.1593â€“1669 Â· Virginia" },
          { id: 3, pid: 2, name: "Moses & Daniel lines", born: "1700s Â· Surry Co., NC" },
          { id: 4, pid: 1, name: "James Cockerham", born: "site creator Â· present" }
        ]
      });
    });
  </script>
</body>
</html>