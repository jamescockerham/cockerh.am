<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Family Tree â€” Cockerh.am</title>
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ³</text></svg>">
  <script src="https://balkangraph.com/js/latest/OrgChart.js"></script>
</head>
<body class="light">

  <header>
    <h1>Cockerh.am</h1>
    <p>One surname. Thousands of cousins. One collaborative home.</p>
  </header>

  <div class="nav-bar">
    <button id="hamburger" aria-label="Menu" aria-expanded="false">â˜°</button>
    <button id="theme-toggle" aria-label="Toggle dark mode">â˜€ï¸</button>
  </div>

  <nav id="main-nav" aria-label="Main navigation">
    <ul id="nav-links">
      <li><a href="/">Home</a></li>
      <li><a href="/history/">History & Statistics</a></li>
      <li><a href="/tree/">Family Tree</a></li>
      <li><a href="/archive/">Archive</a></li>
      <li><a href="/dna/">DNA Project</a></li>
      <li><a href="/resources/">Resources</a></li>
      <li><a href="https://github.com/jamescockerham/Cockerh.am/issues/new/choose" class="contrib">Contribute â†’</a></li>
    </ul>
  </nav>

  <main>
    <h1>Interactive Global Cockerham Family Tree</h1>
    <p style="text-align:center;max-width:700px;margin:30px auto;font-size:1.1em;">
      Zoom, pan, click any box. Every node was added by a cousin â€” you can be next.
    </p>

    <div id="tree"></div>

    <p style="text-align:center;margin:50px 0 20px;">
      <a href="https://github.com/jamescockerham/Cockerh.am/issues/new/choose" class="button">
        + Add Yourself or Your Branch (2 minutes)
      </a>
    </p>
  </main>

  <footer>
    <p>Maintained with love by James Cockerham â€¢ <a href="https://x.com/JamesCockerham">@JamesCockerham</a> â€¢ james@cockerh.am</p>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Hamburger menu
      const hamburger = document.getElementById('hamburger');
      const nav = document.getElementById('main-nav');
      hamburger.addEventListener('click', () => {
        const expanded = hamburger.getAttribute('aria-expanded') === 'true';
        hamburger.setAttribute('aria-expanded', !expanded);
        nav.classList.toggle('open');
      });

      // Close menu when clicking a link
      nav.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
          nav.classList.remove('open');
          hamburger.setAttribute('aria-expanded', 'false');
        });
      });

      // Dark / Light mode
      const toggle = document.getElementById('theme-toggle');
      const body = document.body;
      if (localStorage.theme === 'dark' || (!localStorage.theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        body.classList.add('dark');
        toggle.textContent = 'ğŸŒ™';
      } else {
        toggle.textContent = 'â˜€ï¸';
      }
      toggle.addEventListener('click', () => {
        body.classList.toggle('dark');
        toggle.textContent = body.classList.contains('dark') ? 'ğŸŒ™' : 'â˜€ï¸';
        localStorage.theme = body.classList.contains('dark') ? 'dark' : 'light';
      });

      // Load the family tree
      new OrgChart(document.getElementById("tree"), {
        mouseScrol: OrgChart.action.zoom,
        nodeMouseClick: OrgChart.action.none,
        layout: OrgChart.tree,
        nodeBinding: {
          field_0: "name",
          field_1: "born"
        },
        nodes: [
          { id: 1, name: "Cockerham of Lancashire", born: "1086â€“1600s Â· England" },
          { id: 2, pid: 1, name: "Captain William Cockerham", born: "c.1593â€“1669 Â· Virginia pioneer" },
          { id: 3, pid: 2, name: "Moses & Daniel lines", born: "1700s Â· Surry Co., NC" },
          { id: 4, pid: 1, name: "James Cockerham", born: "site creator Â· present day" }
          // more nodes appear automatically when issues are merged
        ]
      });
    });
  </script>
</body>
</html>